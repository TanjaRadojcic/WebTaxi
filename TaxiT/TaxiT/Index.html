<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Pink Taxi</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-pink.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html, body, h1, h2, h3, h4, h5 {
            font-family: "Open Sans", sans-serif
        }

        body {
            background-image: url("pozadina3.jpg");
            background-repeat: no-repeat;
            background-position: left top;
        }
    </style>
    <script src="Scripts/jquery-1.10.2.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            
            $("#LogIn").click(function () {

                let korisnik = {
                    KorisnickoIme: `${$('#usernameLI').val()}`,
                    Lozinka: `${$('#passLI').val()}`

                };


                $.ajax({
                    type: 'POST',
                    url: '/api/LogIn',
                    data: JSON.stringify(korisnik),
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (data) {
                            localStorage.setItem("ulogovani", korisnik.KorisnickoIme);
                            $(location).attr('href', 'Korisnik.html');
                        }
                        else {
                            alert("Korisnicko ime ili lozinka je pogresna!");
                        }
                    },
                    error: function (errorData) {

                    }
                    

                })
            });

            $("#registracija").click(function () {
                let korisnik = {
                    KorisnickoIme: `${$('#korisnickoime').val()}`,
                    Lozinka: `${$('#lozinka').val()}`,
                    Ime: `${$('#ime1').val()}`,
                    Prezime: `${$('#prezime1').val()}`,
                    Pol: `${$('#pol').val()}`,
                    JMBG: `${$('#jmbg1').val()}`,
                    Kontakt: `${$('#kontakt1').val()}`,
                    Email: `${$('#email1').val()}`,
                    
                    
                    


                };


                $.ajax({
                    type: 'POST',
                    url: '/api/Korisnik',
                    data: JSON.stringify(korisnik),
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (data) {
                            alert("Registrovani ste");
                            $(location).attr('href', 'Index.html');
                        }
                        else {
                            alert("Korisnicko ime je zauzeto!");
                        }
                    },
                    error: function (errorData) {
                            
                    }
                })



            });
            
        
        });
    </script>
</head>
<body>
    <div class="w3-top">
        <div class="w3-bar " style=" background-color:#f176ad">
            <img class="w3-bar-item w3-left w3-small " src="logo.jpg" height="75" width="75"/>
            <div class="w3-bar-item w3-right w3-small " >
                
                    <table align="right">
                        <tr>
                            <td>
                                <label for="usernameLI">Korisničko ime</label>
                            </td>
                            <td>
                                <label for="passLI">Lozinka</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="text" name="KorisnickoIme" id="usernameLI" tabindex="1" required />
                            </td>
                            <td>
                                <input type="password" name="Lozinka" id="passLI" tabindex="2" required />
                            </td>
                            <td>
                                <label id="loginbutton" for="logIn">
                                    <button value="Log In" type="button" id="LogIn">Log In</button>
                                    
                                </label>
                            </td>
                        </tr>
                    </table>
                
            </div>


        </div>
    </div>

    <div class="w3-container w3-content" style="max-width:1700px;margin-top:80px">
        <div class="w3-row">
            
            <!-- Right Column -->
            <div class="w3-col m2 w3-right ">
               
                <table align="right">
                    <tr>
                        <td colspan="2" align="center">
                            Registracija
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="korisnickoime">Korisničko ime</label>
                        </td>
                        <td>
                            <input type="text" name="KorisnickoIme" id="korisnickoime" required/>
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label for="lozinka">Lozinka</label>
                        </td>
                        <td>
                            <input type="password" name="Lozinka" id="lozinka" required />
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label>Ime</label>
                        </td>
                        <td>
                            <input type="text" name="Ime" id="ime1" required />
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label >Prezime</label>
                        </td>
                        <td>
                            <input type="text" name="Prezime" id="prezime1" required />
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label for="pol">Pol</label>
                        </td>
                        <td>
                            <!--<input type="radio" name="Pol" id="pol" value="Muško" checked> Muško  <input type="radio" name="Pol" id="pol" value="Žensko"> Žensko<br>
    -->
                            <select name="Pol" id="pol">
                                <option>Muški</option>
                                <option>Ženski</option>
                            </select>
                        </td>


                    </tr>
                    <tr>
                        <td>
                            <label >JMBG</label>
                        </td>
                        <td>
                            <input type="text" name="JMBG" id="jmbg1" pattern="[0-9]{13}" minlength="13" maxlength="13" required />
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label >Kontakt</label>
                        </td>
                        <td>
                            <input type="text" name="Kontakt" id="kontakt1" minlength="6" required />
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <label >Email</label>
                        </td>
                        <td>
                            <input type="email" name="Email" id="email1" required />
                        </td>

                    </tr>


                    <tr>
                        <td colspan="2">
                            <label id="registrationbutton" for="registration">
                                <!-- <input value="Registracija" tabindex="4" type="submit" id="registration" />-->
                                <button id="registracija" type="button">Registruj se</button>
                            </label>
                        </td>
                    </tr>
                </table>


                <!--</form> End Right Column -->
            </div>

            <!-- End Grid -->
        </div>

        <!-- End Page Container -->
    </div>
    <br>

    <!--<footer class="w3-container w3-theme-l1 w3-bottom-align">
        <p>Powered by Tanja Radojcic</p>
    </footer> -->

</body>
</html>